Metadata-Version: 2.4
Name: market-event-ai
Version: 0.1.0
Summary: Trading system correlating political events with ETF market movements
Author: Twirl1984
License: MIT
Keywords: trading,nlp,sentiment-analysis,backtesting,etf
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Financial and Insurance Industry
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: <3.13,>=3.9
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: fastapi==0.115.6
Requires-Dist: uvicorn[standard]==0.34.0
Requires-Dist: pydantic==2.10.4
Requires-Dist: pandas==2.2.3
Requires-Dist: numpy==2.1.3
Requires-Dist: pyarrow==18.1.0
Requires-Dist: scikit-learn==1.5.2
Requires-Dist: torch==2.5.1
Requires-Dist: transformers==4.47.1
Requires-Dist: datasets==3.2.0
Requires-Dist: evaluate==0.4.3
Requires-Dist: sqlite-utils==3.38
Requires-Dist: pytest==8.3.4
Requires-Dist: httpx==0.28.1
Requires-Dist: python-dotenv==1.0.1
Requires-Dist: yfinance==0.2.50
Requires-Dist: requests==2.32.3
Requires-Dist: beautifulsoup4==4.12.3
Requires-Dist: lxml==5.3.0
Requires-Dist: textblob==0.18.0.post0
Requires-Dist: scipy==1.14.1
Requires-Dist: matplotlib==3.9.3
Requires-Dist: seaborn==0.13.2
Requires-Dist: xgboost==2.1.3
Requires-Dist: lightgbm==4.5.0
Requires-Dist: click==8.1.8
Requires-Dist: pyyaml==6.0.2
Requires-Dist: tqdm==4.67.1
Requires-Dist: joblib==1.4.2
Provides-Extra: dev
Requires-Dist: black==24.10.0; extra == "dev"
Requires-Dist: ruff==0.8.4; extra == "dev"
Requires-Dist: mypy==1.13.0; extra == "dev"
Requires-Dist: pytest-cov==6.0.0; extra == "dev"
Dynamic: license-file

# Market Event AI - Political Events Trading System

[![MIT License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
[![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)

A reproducible, professional-grade trading system that correlates political events (Trump tweets, executive orders, media articles) with ETF market movements to generate trading signals.

## ğŸ¯ Project Goal

Investigate whether political events systematically influence ETF returns and derive tradeable signals with realistic backtesting (no lookahead bias).

### Key Features

- **Event-Driven**: Analyzes Trump tweets, GDELT events, executive orders, and media articles
- **ETF Focus**: Trades on index-based ETFs (SPY, QQQ, DIA, sector ETFs, international)
- **Trading Signals**: LONG/FLAT strategy with optional SHORT
- **Realistic Backtesting**: Walk-forward validation with transaction costs and slippage
- **No Lookahead Bias**: Strict temporal separation of features and labels
- **Reproducible**: Fixed dependencies, deterministic seeds, version control

## ğŸ“Š Architecture

```
Data Pipeline:
data_raw â†’ data_processed â†’ features â†’ labels â†’ models â†’ backtests â†’ reports

Event Sources:
â”œâ”€â”€ Trump Tweets (archived)
â”œâ”€â”€ GDELT 2.1 (political events)
â””â”€â”€ yFinance (ETF prices)

Models:
â”œâ”€â”€ Logistic Regression
â”œâ”€â”€ Random Forest
â”œâ”€â”€ XGBoost (default)
â”œâ”€â”€ LightGBM
â””â”€â”€ Neural Networks (LSTM/Transformer)

Outputs:
â”œâ”€â”€ Trading signals (LONG/FLAT)
â”œâ”€â”€ Equity curve
â”œâ”€â”€ Performance metrics (CAGR, Sharpe, Max DD)
â””â”€â”€ Automated reports
```

## ğŸš€ Quick Start

### 1. Installation

```bash
# Clone repository
git clone https://github.com/Twirl1984/news-driven-market-reaction.git
cd news-driven-market-reaction

# Create virtual environment
python -m venv .venv
source .venv/bin/activate  # On Windows: .venv\Scripts\activate

# Install package
pip install -e .
```

### 2. Configuration

```bash
# Copy environment template
cp .env.example .env

# Edit configuration (optional)
nano .env

# Review asset configuration
cat config/assets.yaml
```

### 3. Run Complete Pipeline

```bash
# Download data
market-event-ai download --source all --start-date 2016-01-01 --end-date 2020-12-31

# Preprocess data
market-event-ai preprocess

# Generate features
market-event-ai features

# Generate labels
market-event-ai label --task classification --threshold 0.02

# Train model
market-event-ai train --model-type xgboost

# Evaluate model
market-event-ai evaluate

# Run backtest
market-event-ai backtest

# Generate report
market-event-ai report
```

### 4. View Results

```bash
# Check reports
ls data/reports/xgboost/

# View summary
cat data/reports/xgboost/summary.md

# View equity curve
open data/reports/xgboost/equity_curve.png
```

## ğŸ“ Repository Structure

```
news-driven-market-reaction/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ assets.yaml              # Asset configuration (ETFs, stocks)
â”œâ”€â”€ src/
â”‚   â””â”€â”€ market_event_ai/
â”‚       â”œâ”€â”€ cli.py               # Command-line interface
â”‚       â”œâ”€â”€ config/
â”‚       â”‚   â””â”€â”€ settings.py      # Configuration management
â”‚       â”œâ”€â”€ data/
â”‚       â”‚   â”œâ”€â”€ downloaders.py   # Data download modules
â”‚       â”‚   â””â”€â”€ schemas.py       # Data schemas
â”‚       â”œâ”€â”€ preprocess/
â”‚       â”‚   â””â”€â”€ preprocessors.py # Text cleaning, sentiment
â”‚       â”œâ”€â”€ features/
â”‚       â”‚   â””â”€â”€ extractors.py    # Feature engineering
â”‚       â”œâ”€â”€ labels/
â”‚       â”‚   â””â”€â”€ generators.py    # Label generation
â”‚       â”œâ”€â”€ alignment/
â”‚       â”‚   â””â”€â”€ event_study.py   # Event study analysis
â”‚       â”œâ”€â”€ models/
â”‚       â”‚   â””â”€â”€ trainers.py      # Model training
â”‚       â”œâ”€â”€ portfolio/
â”‚       â”‚   â””â”€â”€ backtesters.py   # Backtesting engine
â”‚       â”œâ”€â”€ evaluation/
â”‚       â”‚   â””â”€â”€ evaluators.py    # Model evaluation
â”‚       â””â”€â”€ reports/
â”‚           â””â”€â”€ generators.py    # Report generation
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/                    # Unit tests
â”‚   â””â”€â”€ integration/             # Integration tests
â”œâ”€â”€ notebooks/                   # Jupyter notebooks
â”œâ”€â”€ data/                        # Data directories (gitignored)
â”‚   â”œâ”€â”€ raw/
â”‚   â”œâ”€â”€ processed/
â”‚   â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ labels/
â”‚   â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ backtests/
â”‚   â””â”€â”€ reports/
â”œâ”€â”€ .env.example                 # Environment template
â”œâ”€â”€ .gitignore
â”œâ”€â”€ LICENSE                      # MIT License
â”œâ”€â”€ Makefile                     # Build automation
â”œâ”€â”€ pyproject.toml              # Project configuration
â”œâ”€â”€ requirements.txt            # Dependencies (legacy)
â””â”€â”€ README.md                   # This file
```

## ğŸ”§ CLI Commands

### `download` - Download Data

```bash
market-event-ai download --source tweets --start-date 2016-01-01 --end-date 2020-12-31
market-event-ai download --source gdelt --start-date 2016-01-01 --end-date 2020-12-31
market-event-ai download --source financial --start-date 2016-01-01 --end-date 2020-12-31
market-event-ai download --source all --start-date 2016-01-01 --end-date 2020-12-31
```

### `preprocess` - Clean Data

```bash
market-event-ai preprocess
```

### `features` - Extract Features

```bash
market-event-ai features
```

### `label` - Generate Labels

```bash
market-event-ai label --task classification --threshold 0.02 --horizon 1
market-event-ai label --task regression --horizon 1
```

### `train` - Train Models

```bash
market-event-ai train --model-type xgboost
market-event-ai train --model-type random_forest
market-event-ai train --model-type logistic
market-event-ai train --model-type lightgbm
```

### `evaluate` - Evaluate Models

```bash
market-event-ai evaluate --model-type xgboost
```

### `backtest` - Run Backtests

```bash
market-event-ai backtest --model-type xgboost
```

### `report` - Generate Reports

```bash
market-event-ai report --model-type xgboost
```

## ğŸ“Š Performance Metrics

The system reports comprehensive metrics:

- **CAGR**: Compound Annual Growth Rate
- **Sharpe Ratio**: Risk-adjusted returns (annualized)
- **Max Drawdown**: Maximum peak-to-trough decline
- **Hit Rate**: Percentage of profitable trades
- **Turnover**: Portfolio turnover rate
- **Benchmark**: Comparison vs Buy & Hold

## ğŸ”’ Data Leakage Prevention

The system implements strict safeguards:

1. **Temporal Separation**: Features use only past data, labels use future data
2. **Walk-Forward Validation**: Time-series aware cross-validation
3. **Embargo Period**: Configurable gap between train/test sets
4. **Automated Checks**: Built-in leakage detection
5. **Date Cutoff**: Signals only use information available at market close

## ğŸ§ª Testing

```bash
# Run all tests
pytest

# Run unit tests only
pytest tests/unit/

# Run integration tests
pytest tests/integration/

# Run with coverage
pytest --cov=market_event_ai --cov-report=html
```

## ğŸ“ˆ Example Results

Sample backtest results (2016-2020):

| Metric | Value |
|--------|-------|
| CAGR | TBD% |
| Sharpe Ratio | TBD |
| Max Drawdown | TBD% |
| Total Trades | TBD |
| Win Rate | TBD% |

*Note: Run the pipeline to generate actual results*

## ğŸ”¬ Research Extensions

Future enhancements:

- [ ] Multi-asset portfolio optimization
- [ ] Alternative data sources (Reddit, news APIs)
- [ ] Deep learning models (LSTM, Transformers)
- [ ] Real-time streaming pipeline
- [ ] Risk parity allocation
- [ ] Options strategies

## âš ï¸ Disclaimer

This software is for educational and research purposes only. It does not constitute financial advice. Past performance does not guarantee future results. Always conduct your own research and consult with financial professionals before making investment decisions.

## ğŸ“ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ¤ Contributing

Contributions are welcome! Please:

1. Fork the repository
2. Create a feature branch
3. Make your changes with tests
4. Submit a pull request

## ğŸ“š References

- Inspired by "Financial News Sentiment â€“ Stock Market Analysis (Alpha-Mintamir)"
- GDELT Project: [https://www.gdeltproject.org/](https://www.gdeltproject.org/)
- Trump Twitter Archive: Various sources
- Academic papers on event studies and market microstructure

## ğŸ“§ Contact

For questions or issues, please open a GitHub issue.

---

**Built with â¤ï¸ for quantitative finance and ML research**
